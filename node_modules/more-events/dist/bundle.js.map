{"version":3,"file":"bundle.js","sources":["../src/index.js"],"sourcesContent":["class Handler {\n    constructor(name, listener, matchListener = null){\n        this.name = name;\n        this.matchListener = this.listener = listener;\n        if(matchListener !== null){\n            this.matchListener = matchListener;\n        }\n    }\n}\n\nclass MoreEvents {\n    constructor(context){\n        this.listeners = {};\n        this.__context = context === void 0 ? this : context;\n    }\n    addListener(name, listener, matchListener){\n        if(this.listeners[name] === void 0){\n            this.listeners[name] = [];\n        }\n        this.listeners[name].push(new Handler(name, listener, matchListener));\n\n        return this;\n    }\n    removeListener(name, listener){\n        if(this.listeners[name] === void 0 || !this.listeners[name].length)\n            return this;\n\n        for(let i=0; i<this.listeners[name].length; i++){\n            let current = this.listeners[name][i];\n            //The matchListener might be different\n            //than the actual listener\n            if(current.matchListener === listener){\n                this.listeners[name].splice(i, 1);\n                --i;\n            }\n        }\n\n        return this;\n    }\n    emitListeners(name, ...args){\n        if(this.listeners[name] === void 0 || !this.listeners[name].length) return;\n\n        for(let i=0; i<this.listeners[name].length; i++){\n            (this.listeners[name][i].listener)\n            .apply(this.__context, args);\n        }\n        return this;\n    }\n    removeAll(name){\n        delete this.listeners[name];\n    }\n    dispose(){\n        this.listeners = this.__context = null;\n    }\n}\n\nclass Emitter extends MoreEvents {\n    constructor(context){\n        super(context);\n    }\n    on(name, listener){\n        return this.addListener(name, listener);\n    }\n    off(name, listener){\n        return this.removeListener(name, listener);\n    }\n    one(name, listener){\n        function once(){\n            listener.apply(this, arguments);\n            return this.off(name, once);\n        }\n        return this.on(name, onceListener);\n    }\n    emit(name, ...args){\n        return this.emitListeners(name, ...args);\n    }\n    clear(name){\n        this.removeAll(name);\n    }\n}\n\n\nexport { Emitter };\n"],"names":["let","this","super"],"mappings":"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"}