var timerChain=function(){"use strict";var t=function(t){this.listeners={},this.__context=void 0===t?this:t};t.prototype.addListener=function(t,e,r){return void 0===this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push(new function(t,e,r){void 0===r&&(r=null),this.name=t,this.matchListener=this.listener=e,null!==r&&(this.matchListener=r)}(t,e,r)),this},t.prototype.removeListener=function(t,e){if(void 0===this.listeners[t]||!this.listeners[t].length)return this;for(var r=0;r<this.listeners[t].length;r++){this.listeners[t][r].matchListener===e&&(this.listeners[t].splice(r,1),--r)}return this},t.prototype.emitListeners=function(t){for(var e=arguments,r=[],n=arguments.length-1;n-- >0;)r[n]=e[n+1];if(void 0!==this.listeners[t]&&this.listeners[t].length){for(var i=0;i<this.listeners[t].length;i++)this.listeners[t][i].listener.apply(this.__context,r);return this}},t.prototype.removeAll=function(t){delete this.listeners[t]},t.prototype.dispose=function(){this.listeners=this.__context=null};var e=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.on=function(t,e){return this.addListener(t,e)},e.prototype.off=function(t,e){return this.removeListener(t,e)},e.prototype.one=function(t,e){return this.on(t,onceListener)},e.prototype.emit=function(t){for(var e,r=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=r[i+1];return(e=this).emitListeners.apply(e,[t].concat(n))},e.prototype.clear=function(t){this.removeAll(t)},e}(t),r=Date.now?Date.now:function(){return(new Date).getTime()};return function(t){function e(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={});var o=n.sync;void 0===o&&(o=!0),t.call(this);var s=e[0];this.list=e,this.index=0,this.synchronize=o,Object.defineProperty(this,"current",{get:function(){return s}});var h=function(){for(var t,e=[],r=arguments.length;r--;)e[r]=arguments[r];return(t=i).emit.apply(t,["tick"].concat(e))};s.on("tick",h),e.forEach(function(t,n){if("function"!=typeof t.start)throw new Error("Timer does not have a start method");n!==e.length-1?t.on("complete",function(t){s.off("tick",h);var n=r();(s=e[++i.index]).on("tick",h);var o=n-t,c=s.interval-o;s.start(c)}):t.on("complete",function(){i.emit("complete")})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(){if("function"!=typeof this.current.start)throw new Error("Timer does not have a start method");return console.log("this.current ",this.current),this.current.start(),this.emit("start",this.current.startTime||r()),this},e.prototype.pause=function(){if("function"!=typeof this.current.pause)throw new Error("Timer does not have a pause method");return this.current.pause(),this.emit("pause"),this},e.prototype.stop=function(){if("function"!=typeof this.current.stop)throw new Error("Timer does not have a stop method");return this.current.stop(),this.emit("stop"),this},e}(e)}();
//# sourceMappingURL=timer-chain.min.js.map
